(()=>{"use strict";var e,t={707:(e,t,l)=>{var n=l(294),a=l(745);class r extends n.Component{render(){return n.createElement("div",null,"This is a placeholder for the employee filter.")}}class o extends n.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.employeeAdd,l={name:t.name.value,extension:t.ext.value,email:t.email.value,title:t.title.value};this.props.createEmployee(l),t.name.value="",t.ext.value="",t.email.value="",t.title.value=""}render(){return n.createElement("form",{name:"employeeAdd",onSubmit:this.handleSubmit},"Name: ",n.createElement("input",{type:"text",name:"name"}),n.createElement("br",null),"Extension: ",n.createElement("input",{type:"text",name:"ext",maxLength:4}),n.createElement("br",null),"Email: ",n.createElement("input",{type:"text",name:"email"}),n.createElement("br",null),"Title: ",n.createElement("input",{type:"text",name:"title"}),n.createElement("br",null),n.createElement("button",null,"Add"))}}var m=l(945),i=l(150);function c(e){let{employees:t,deleteEmployee:l}=e;const a=t.map(((e,t)=>n.createElement(s,{key:e._id,employee:e,deleteEmployee:l,isEvenRow:t%2==0})));return n.createElement("table",{className:"table table-striped"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Name"),n.createElement("th",null,"Extension"),n.createElement("th",null,"Email"),n.createElement("th",null,"Title"),n.createElement("th",null,"Date Hired"),n.createElement("th",null,"Currently Employed?"),n.createElement("th",null))),n.createElement("tbody",null,a))}function s(e){let{deleteEmployee:t,employee:l}=e;const[a,r]=(0,n.useState)(!1);function o(){r(!a)}return n.createElement("tr",null,n.createElement("td",{className:"align-middle"},l.name),n.createElement("td",{className:"align-middle"},l.extension),n.createElement("td",{className:"align-middle"},l.email),n.createElement("td",{className:"align-middle"},l.title),n.createElement("td",{className:"align-middle"},l.dateHired.toDateString()),n.createElement("td",{className:"align-middle"},l.currentlyEmployed?"Yes":"No"),n.createElement("td",{className:"align-middle"},n.createElement("div",{className:"d-flex gap-2"},n.createElement(m.Z,{variant:"danger",onClick:o},"Delete Emp")),n.createElement(i.Z,{show:a,onHide:o},n.createElement(i.Z.Header,{closeButton:!0},n.createElement(i.Z.Title,null,"Delete Employee")),n.createElement(i.Z.Body,null,"Are you sure you want to delete this employee?"),n.createElement(i.Z.Footer,null,n.createElement(m.Z,{variant:"secondary",onClick:o,className:"btn-danger"},"No"),n.createElement(m.Z,{variant:"success",onClick:function(){t(l._id),o()}},"Yes")))))}class d extends n.Component{constructor(){super(),this.state={employees:[]},this.createEmployee=this.createEmployee.bind(this),this.deleteEmployee=this.deleteEmployee.bind(this)}componentDidMount(){this.loadData()}loadData(){fetch("/api/employees").then((e=>e.json())).then((e=>{console.log("Total count of employees:",e.count),e.employees.forEach((e=>{e.dateHired=new Date(e.dateHired)})),this.setState({employees:e.employees})})).catch((e=>{console.log(e)}))}createEmployee(e){fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{e.employee.dateHired=new Date(e.employee.dateHired);const t=this.state.employees.concat(e.employee);this.setState({employees:t}),console.log("Total count of employees:",t.length)})).catch((e=>{console.log(e)}))}deleteEmployee(e){fetch(`/api/employees/${e}`,{method:"DELETE"}).then((e=>{e.ok?this.loadData():console.log("Failed to delete employee.")}))}render(){return n.createElement(n.Fragment,null,n.createElement("h1",null,"Employee Management Application"),n.createElement(r,null),n.createElement("hr",null),n.createElement(c,{employees:this.state.employees,deleteEmployee:this.deleteEmployee}),n.createElement("hr",null),n.createElement(o,{createEmployee:this.createEmployee}))}}(0,a.s)(document.getElementById("content")).render(n.createElement(n.StrictMode,null,n.createElement(d,null)))}},l={};function n(e){var a=l[e];if(void 0!==a)return a.exports;var r=l[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,l,a,r)=>{if(!l){var o=1/0;for(s=0;s<e.length;s++){for(var[l,a,r]=e[s],m=!0,i=0;i<l.length;i++)(!1&r||o>=r)&&Object.keys(n.O).every((e=>n.O[e](l[i])))?l.splice(i--,1):(m=!1,r<o&&(o=r));if(m){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[l,a,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={624:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var a,r,[o,m,i]=l,c=0;if(o.some((t=>0!==e[t]))){for(a in m)n.o(m,a)&&(n.m[a]=m[a]);if(i)var s=i(n)}for(t&&t(l);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},l=self.webpackChunkmodule01=self.webpackChunkmodule01||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=n.O(void 0,[736],(()=>n(707)));a=n.O(a)})();
//# sourceMappingURL=employees.bundle.js.map